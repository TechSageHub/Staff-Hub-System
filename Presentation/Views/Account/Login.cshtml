@model LoginViewModel
@{
	ViewData["Title"] = "Login";
	Layout = "_Layout";
}

<div class="auth-wrapper">
	<div class="auth-left">
		<h2>WELCOME BACK TO OUR EMPLOYEE MANAGER</h2>
		<p>Glad to see you again!</p>
		<p>
			Your all-in-one platform for managing staff effectively and efficiently.
		</p>
		<div class="circle one"></div>
		<div class="circle two"></div>
	</div>

	<div class="auth-right">
		<h2 class="mb-4 fw-bold">Sign In</h2>
		<form asp-action="Login" method="post">
			<div class="mb-3">
				<label asp-for="Email" class="form-label"></label>
				<input asp-for="Email" class="form-control" />
				<span asp-validation-for="Email" class="text-danger"></span>
			</div>

			<div class="mb-3 position-relative">
				<label asp-for="Password" class="form-label"></label>
				<div class="input-group">
					<input asp-for="Password" type="password" class="form-control pe-5" id="passwordInput" />
					<button type="button" class="btn btn-outline-secondary position-absolute end-0 top-0 mt-1 me-2 border-0 bg-transparent" onclick="togglePassword()" tabindex="-1">
						<i class="bi bi-eye" id="toggleIcon"></i>
					</button>
				</div>
				<span asp-validation-for="Password" class="text-danger"></span>
			</div>


			<div class="form-check mb-3">
				<input asp-for="RememberMe" class="form-check-input" />
				<label asp-for="RememberMe" class="form-check-label"></label>
			</div>

			<button type="submit" class="btn btn-custom w-100">Sign In</button>

			<div class="text-center mt-2">
				<a asp-action="ForgotPassword" class="btn btn-link text-decoration-none">Forgot Password?</a>
			</div>

			<p class="mt-3 text-center">
				Don't have an account? <a asp-action="Register">Sign Up</a>
			</p>

		</form>
	</div>
</div>

@section Scripts {
	<partial name="_ValidationScriptsPartial" />
	<script>
		function togglePassword() {
			const passwordInput = document.getElementById('passwordInput');
			const icon = document.getElementById('toggleIcon');
			const type = passwordInput.getAttribute('type');

			if (type === 'password') {
				passwordInput.setAttribute('type', 'text');
				icon.classList.remove('bi-eye');
				icon.classList.add('bi-eye-slash');
			} else {
				passwordInput.setAttribute('type', 'password');
				icon.classList.remove('bi-eye-slash');
				icon.classList.add('bi-eye');
			}
		}
	</script>
}
